(this["webpackJsonpopen-gym-queue"]=this["webpackJsonpopen-gym-queue"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(9),c=n.n(i),r=(n(15),n(16),n(2)),l=n(4),o=n(5),u=n(7),m=n(6),d=n(0),j=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",position:"Outside Hitter",group:""},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,s=n.position,i=n.group,c=e.props,r=c.onAddPlayer,l=c.onAddPlayerToGroup;""===i?r(a,s):l(a,s,i),e.setState({name:"",position:"Outside Hitter",group:""})},e.handleNameChange=function(t){e.setState({name:t.target.value})},e.handlePositionChange=function(t){e.setState({position:t.target.value})},e.handleGroupChange=function(t){e.setState({group:t.target.value})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"col-12 col-md-6",children:Object(d.jsx)("div",{className:"border bg-light p-2 mb-2",children:Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsx)("h3",{children:"Add Player"}),Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("span",{className:"input-group-text",children:"Player Name"}),Object(d.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:this.state.name,onChange:this.handleNameChange,required:!0})]})}),Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("span",{className:"input-group-text",children:"Position"}),Object(d.jsxs)("select",{className:"form-select",name:"position",id:"postion",value:this.state.position,onChange:this.handlePositionChange,children:[Object(d.jsx)("option",{value:"Outside Hitter",children:"Outside Hitter"}),Object(d.jsx)("option",{value:"Opposite",children:"Opposite"}),Object(d.jsx)("option",{value:"Middle Blocker",children:"Middle Blocker"}),Object(d.jsx)("option",{value:"Setter",children:"Setter"}),Object(d.jsx)("option",{value:"Libero",children:"Libero"}),Object(d.jsx)("option",{value:"Defensive Specialist",children:"Defensive Specialist"})]})]})}),Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("span",{className:"input-group-text",children:"Group Name (Opt.)"}),Object(d.jsx)("input",{type:"text",id:"group",name:"group",className:"form-control",value:this.state.group,onChange:this.handleGroupChange})]})}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"})})]})})})}}]),n}(s.a.Component),b=function(){return Object(d.jsx)("nav",{className:"navbar navbar-light bg-light border mb-2",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("h2",{className:"navbar-brand",children:"Open Gym Queue"})})})},h=function e(t,n,a){Object(l.a)(this,e),this.id=t,this.name=n,this.position=a},p=function e(t,n,a){Object(l.a)(this,e),this.size=t,this.name=n,this.players=a},x=function e(t,n,a,s){Object(l.a)(this,e),this.id=t,this.type=n,this.size=a,this.item=s},O=n(22),f=n(23),g=function(e){var t=e.qItem,n=e.actionButton,a=t.type,s=t.item,i="group"===a?s.players:[s];return console.log("creating card for :",t,s),Object(d.jsx)("div",{className:"card p-2 mb-2 g-x1",children:Object(d.jsxs)("div",{className:"container pe-3",children:["group"===a&&Object(d.jsx)("h5",{children:s.name}),Object(d.jsxs)("div",{className:"row  align-items-center",children:[Object(d.jsxs)("div",{className:"col-10",children:[console.log("adding players to card: ",i),i.map((function(e){return Object(d.jsxs)("p",{className:"h5",children:[Object(d.jsx)("span",{className:"badge bg-secondary me-1",children:e.name}),Object(d.jsx)("span",{className:"badge bg-dark",children:e.position})]},e.id)}))]}),n]})]})})},v=function(e){var t=e.queue,n=e.getNextButtons,a=e.onSplitGroup,s=e.onRemovePlayer;return console.log("rendering queue",t),Object(d.jsx)("div",{className:"col-12mb-2",children:Object(d.jsxs)("div",{className:"border bg-light p-2",children:[Object(d.jsx)("h3",{className:"mb-2",children:"Players"}),0===t.length?Object(d.jsx)("p",{className:"mb-2",children:"No players in the queue"}):n(),t.map((function(e){return console.log("mapping to card: ",e),Object(d.jsx)(g,{qItem:e,actionButton:"player"===e.type?Object(d.jsx)("button",{className:"btn bg-danger col",onClick:function(){return s(e)},children:Object(d.jsx)(O.a,{})}):Object(d.jsx)("button",{className:"btn bg-danger col",onClick:function(){return a(e)},children:Object(d.jsx)(f.a,{})})},e.type+e.id)}))]})})},y=function(e){var t=e.ruleset,n=e.onChangeRuleset;return Object(d.jsx)("div",{className:"col-12 col-md-6",children:Object(d.jsx)("div",{className:" mb-2  ",children:Object(d.jsxs)("div",{className:"border bg-light p-2",children:[Object(d.jsx)("div",{className:"text-center mb-2",children:Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("button",{className:"btn btn-primary"+("playtwo"===t?" active":""),onClick:function(){return n("playtwo")},children:"Play Two"}),Object(d.jsx)("button",{className:"btn btn-primary"+("twooff"===t?" active":""),onClick:function(){return n("twooff")},children:"Two Off"}),Object(d.jsx)("button",{className:"btn btn-primary"+("kings"===t?" active":""),onClick:function(){return n("kings")},children:"King Of The Court"})]})}),Object(d.jsxs)("ol",{class:"list-group list-group-numbered",children:[Object(d.jsx)("li",{class:"list-group-item d-flex justify-content-between align-items-start",children:Object(d.jsxs)("div",{class:"ms-2 me-auto",children:[Object(d.jsx)("div",{class:"fw-bold",children:"Play Two"}),"Play two games in a row, regardless of winner. Team 1 rotates off, Team 2 becomes Team 1, and whoever is next in line becomes the new Team 2. A balanced way to ensure equal playing time while also playing multiple different opponents."]})}),Object(d.jsx)("li",{class:"list-group-item d-flex justify-content-between align-items-start",children:Object(d.jsxs)("div",{class:"ms-2 me-auto",children:[Object(d.jsx)("div",{class:"fw-bold",children:"Two Off"}),"Play only one game, and then both teams rotate off and two new teams join. This ruleset has less continuous playing time than Play Two but also less waiting time as the queue rotates faster."]})}),Object(d.jsx)("li",{class:"list-group-item d-flex justify-content-between align-items-start",children:Object(d.jsxs)("div",{class:"ms-2 me-auto",children:[Object(d.jsx)("div",{class:"fw-bold",children:"King of the Court"}),"As the name implies, the king runs the court. Whichever team wins says on to play the next game while the losing team rotates off."]})})]})]})})})},N=n(24),w=function(e){var t=e.num,n=e.team,a=e.size,s=e.onRefillTeam,i=e.onRemoveFromTeam;return Object(d.jsx)("div",{className:"col-12 col-xl-6",children:Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"border bg-light p-2 w-100 h-100 d-inline-block",children:[Object(d.jsxs)("h3",{children:["Team #",t]}),n.map((function(e){return Object(d.jsx)(g,{qItem:e,actionButton:Object(d.jsx)("button",{className:"btn bg-danger col",onClick:i,children:Object(d.jsx)(N.a,{})})},e.type+e.id)})),a>0&&a<6&&Object(d.jsx)("div",{className:"container mb-2 text-center",children:Object(d.jsx)("button",{className:"btn btn-primary col-5 mx-2",onClick:s,children:"Fill Team"})})]})})})},q=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={ruleset:"playtwo",teams:[[],[]],queue:[],size:0,nextPlayerID:0,nextItemID:0},e.requeueTeam=function(e,t,n){return e[n].forEach((function(e){return t.push(e)})),{teams:e=[e[(n+1)%2],[]],queue:t}},e.draftTeam=function(t,n){for(var a=e.sizeOfItems(t),s=0;a<6&&s<n.length;){var i=n[s];i.size+a<=6?(t.push(i),a+=i.size,n.splice(s,1)):s++}return{team:t,queue:n}},e.playTwoNext=function(){var t,n=Object(r.a)(e.state.teams),a=Object(r.a)(e.state.queue),s=e.requeueTeam(n,a,0);n=s.teams,a=s.queue;var i=e.draftTeam([],a);t=i.team,a=i.queue,n[1]=t,e.setState({teams:n,queue:a,size:e.sizeOfItems(a)})},e.twoOffNext=function(){var t=Object(r.a)(e.state.teams),n=Object(r.a)(e.state.queue),a=e.requeueTeam(t,n,0);t=a.teams,n=a.queue;var s,i=e.requeueTeam(t,n,0);t=i.teams,n=i.queue;var c=e.draftTeam([],n);s=c.team,n=c.queue,t[0]=s;var l=e.draftTeam([],n);s=l.team,n=l.queue,t[1]=s,e.setState({teams:t,queue:n,size:e.sizeOfItems(n)})},e.kingsCourtNext=function(t){var n,a=Object(r.a)(e.state.teams),s=Object(r.a)(e.state.queue),i=e.requeueTeam(a,s,t);a=i.teams,s=i.queue;var c=e.draftTeam([],s);n=c.team,s=c.queue,a[(t+1)%2]=n,e.setState({teams:a,queue:s,size:e.sizeOfItems(s)})},e.handleAddPlayer=function(t,n){var a=e.state.nextPlayerID,s=e.state.nextItemID,i=new h(a,t,n),c=Object(r.a)(e.state.queue);c.push(new x(s,"player",1,i)),e.setState({queue:c,nextPlayerID:a+1,nextItemID:s+1,size:e.state.size+1})},e.handleAddPlayerToGroup=function(t,n,a){for(var s=e.state.nextPlayerID,i=e.state.nextItemID,c=new h(s,t,n),l=Object(r.a)(e.state.queue),o=new p(1,a,[c]),u=0;u<l.length;u++)if("group"===l[u].type&&l[u].item.name===a){o=l.splice(u,1)[0].item,console.log(o),o.size++,o.players.push(c);break}l.push(new x(i,"group",o.size,o)),e.setState({queue:l,nextPlayerID:s+1,nextItemID:i+1,size:e.state.size+1})},e.handleRemoveFromTeam=function(t,n){var a=Object(r.a)(e.state.teams),s=Object(r.a)(e.state.queue);s.push(a[t].splice(a[t].indexOf(n),1)[0]),e.setState({teams:a,queue:s})},e.handleRemovePlayer=function(t){var n=Object(r.a)(e.state.queue);n.splice(n.indexOf(t),1),e.setState({queue:n})},e.handleSplitGroup=function(t){var n=Object(r.a)(e.state.queue),a=e.state.nextItemID;n.splice.apply(n,[n.indexOf(t),1].concat(Object(r.a)(t.item.players.map((function(e){return new x(a++,"player",1,e)}))))),console.log("Updated queue post split: ",n),e.setState({queue:n,newItemID:a})},e.handleRefillTeam=function(t){var n=Object(r.a)(e.state.teams[t]),a=Object(r.a)(e.state.queue),s=e.draftTeam(n,a);n=s.team,a=s.queue;var i=Object(r.a)(e.state.teams);i[t]=n,e.setState({teams:i,queue:a})},e.handleChangeruleset=function(t){e.setState({ruleset:t})},e.getNextButtons=function(){switch(e.state.ruleset){case"playtwo":return Object(d.jsx)("div",{className:"container mb-2 text-center",children:Object(d.jsx)("button",{className:"btn btn-primary col-5 mx-2",onClick:e.playTwoNext,children:"Next Game"})});case"twooff":return Object(d.jsx)("div",{className:"container mb-2 text-center",children:Object(d.jsx)("button",{className:"btn btn-primary col-5 mx-2",onClick:e.twoOffNext,children:"Next Game"})});case"kings":return Object(d.jsxs)("div",{className:"container mb-2 text-center",children:[Object(d.jsx)("button",{className:"btn btn-primary col-5 mx-2",onClick:function(){return e.kingsCourtNext(0)},children:"Team 1 Won"}),Object(d.jsx)("button",{className:"btn btn-primary col-5 mx-2",onClick:function(){return e.kingsCourtNext(1)},children:"Team 2 Won"})]})}},e}return Object(o.a)(n,[{key:"sizeOfItems",value:function(e){return 0===e.length?0:e.map((function(e){return e.size})).reduce((function(e,t){return e+t}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"row gx-2 mb-2",children:[Object(d.jsx)("div",{className:"col-12 col-md-6",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(w,{num:"1",team:this.state.teams[0],size:this.sizeOfItems(this.state.teams[0]),onRefillTeam:function(){return e.handleRefillTeam(0)},onRemoveFromTeam:function(){return e.handleRemoveFromTeam(0)}}),Object(d.jsx)(w,{num:"2",team:this.state.teams[1],size:this.sizeOfItems(this.state.teams[1]),onRefillTeam:function(){return e.handleRefillTeam(1)},onRemoveFromTeam:function(){return e.handleRemoveFromTeam(1)}})]})}),Object(d.jsx)("div",{className:"col-12 col-md-6",children:Object(d.jsx)(v,{queue:this.state.queue,getNextButtons:this.getNextButtons,onRemovePlayer:this.handleRemovePlayer,onSplitGroup:this.handleSplitGroup})})]}),Object(d.jsxs)("div",{className:"row gx-2",children:[Object(d.jsx)(j,{onAddPlayer:this.handleAddPlayer,onAddPlayerToGroup:this.handleAddPlayerToGroup}),Object(d.jsx)(y,{ruleset:this.state.ruleset,onChangeRuleset:this.handleChangeruleset})]})]})]})}}]),n}(a.Component);var T=function(){return Object(d.jsx)(q,{})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};n(20);c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),C()}},[[21,1,2]]]);
//# sourceMappingURL=main.2ef8349e.chunk.js.map